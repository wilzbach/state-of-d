(function(y,s,k){function t(d){for(var a={x:d.offsetLeft,y:d.offsetTop};d=d.offsetParent;)a.x+=d.offsetLeft,a.y+=d.offsetTop;return a}function z(d){for(var a=1;a<arguments.length;a++){var b=arguments[a],c;for(c in b)d[c]===k&&(d[c]=b[c])}return d}function i(d,a){for(var b in a)d.style[q(d,b)||b]=a[b];return d}function q(d,a){var b=d.style,c,e;if(b[a]!==k)return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(e=0;e<u.length;e++)if(c=u[e]+a,b[c]!==k)return c}function A(d,a,b,c){var e=["opacity",a,~~(100*
d),b,c].join("-"),b=0.01+100*(b/c),c=Math.max(1-(1-d)/a*(100-b),d),f=o.substring(0,o.indexOf("Animation")).toLowerCase();v[e]||(w.insertRule("@"+(f&&"-"+f+"-"||"")+"keyframes "+e+"{0%{opacity:"+c+"}"+b+"%{opacity:"+d+"}"+(b+0.01)+"%{opacity:1}"+(b+a)%100+"%{opacity:"+d+"}100%{opacity:"+c+"}}",0),v[e]=1);return e}function j(d,a,b){b&&!b.parentNode&&j(d,b);d.insertBefore(a,b||null);return d}function l(d,a){var b=s.createElement(d||"div"),c;for(c in a)b[c]=a[c];return b}var u=["webkit","Moz","ms","O"],
v={},o,w=function(){var d=l("style");j(s.getElementsByTagName("head")[0],d);return d.sheet||d.styleSheet}(),r=function a(b){if(!this.spin)return new a(b);this.opts=z(b||{},a.defaults,B)},B=r.defaults={lines:12,length:7,width:5,radius:10,color:"#000",speed:1,trail:100,opacity:0.25,fps:20},p=r.prototype={spin:function(a){this.stop();var b=this,c=b.el=i(l(),{position:"relative"}),e,f;a&&(f=t(j(a,c,a.firstChild)),e=t(c),i(c,{left:(a.offsetWidth>>1)-e.x+f.x+"px",top:(a.offsetHeight>>1)-e.y+f.y+"px"}));
c.setAttribute("aria-role","progressbar");b.lines(c,b.opts);if(!o){var g=b.opts,m=0,x=g.fps,n=x/g.speed,h=(1-g.opacity)/(n*g.trail/100),k=n/g.lines;(function C(){m++;for(var a=g.lines;a;a--){var e=Math.max(1-(m+a*k)%n*h,g.opacity);b.opacity(c,g.lines-a,e,g)}b.timeout=b.el&&setTimeout(C,~~(1E3/x))})()}return b},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=k);return this}};p.lines=function(a,b){function c(a,c){return i(l(),{position:"absolute",
width:b.length+b.width+"px",height:b.width+"px",background:a,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*e)+"deg) translate("+b.radius+"px,0)",borderRadius:(b.width>>1)+"px"})}for(var e=0,f;e<b.lines;e++)f=i(l(),{position:"absolute",top:1+~(b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:o&&A(b.opacity,b.trail,e,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&j(f,i(c("#000","0 0 4px #000"),{top:"2px"})),j(a,j(f,c(b.color,"0 0 1px rgba(0,0,0,.1)")));
return a};p.opacity=function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)};(function(){var a=i(l("group"),{behavior:"url(#default#VML)"});if(!q(a,"transform")&&a.adj){for(a=4;a--;)w.addRule(["group","roundrect","fill","stroke"][a],"behavior:url(#default#VML)");p.lines=function(b,a){function e(b,e,h){j(k,j(i(f(),{rotation:360/a.lines*b+"deg",left:~~e}),j(i(l("roundrect",{arcsize:1}),{width:g,height:a.width,left:a.radius,top:-a.width>>1,filter:h}),l("fill",{color:a.color,opacity:a.opacity}),
l("stroke",{opacity:0}))))}function f(){return i(l("group",{coordsize:m+" "+m,coordorigin:-g+" "+-g}),{width:m,height:m})}var g=a.length+a.width,m=2*g,k=f(),n=~(a.length+a.radius+a.width)+"px",h;if(a.shadow)for(h=1;h<=a.lines;h++)e(h,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(h=1;h<=a.lines;h++)e(h);return j(i(b,{margin:n+" 0 0 "+n,zoom:1}),k)};p.opacity=function(a,c,e,f){a=a.firstChild;f=f.shadow&&f.lines||0;a&&c+f<a.childNodes.length&&(a=a.childNodes[c+
f],a=a&&a.firstChild,a=a&&a.firstChild,a&&(a.opacity=e))}}else o=q(a,"animation")})();y.Spinner=r})(window,document);
